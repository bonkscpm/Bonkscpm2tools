IyEvdXNyL2Jpbi9weXRob24NCg0KaW1wb3J0IG9zDQppbXBvcnQgc3lzDQppbXBvcnQgdGltZQ0KaW1wb3J0IHNpZ25hbA0KaW1wb3J0IHJhbmRvbQ0KaW1wb3J0IHJlcXVlc3RzDQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwDQpmcm9tIHB5ZmlnbGV0IGltcG9ydCBmaWdsZXRfZm9ybWF0DQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZQ0KZnJvbSByaWNoLnByb21wdCBpbXBvcnQgUHJvbXB0LCBJbnRQcm9tcHQNCmZyb20gcmljaC50ZXh0IGltcG9ydCBUZXh0DQpmcm9tIHJpY2guc3R5bGUgaW1wb3J0IFN0eWxlDQpmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsDQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlDQpmcm9tIHJpY2ggaW1wb3J0IGJveA0KZnJvbSByaWNoLmxpdmUgaW1wb3J0IExpdmUNCmZyb20gcmljaC5hbGlnbiBpbXBvcnQgQWxpZ24NCmZyb20gcmljaC5zcGlubmVyIGltcG9ydCBTcGlubmVyDQpmcm9tIHJpY2gucHJvZ3Jlc3MgaW1wb3J0IHRyYWNrDQpmcm9tIHB5ZmlnbGV0IGltcG9ydCBGaWdsZXQNCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50DQppbXBvcnQgc2VjcmV0cw0KZnJvbSBCb25rc2NwbSBpbXBvcnQgYm9ua3NjcG0gICMgWW91ciBnYW1lIGxvZ2ljIGNsYXNzDQoNCl9fQ0hBTk5FTF9VU0VSTkFNRV9fID0gIkJPTktTQ1BNIFRFUk1VWCBDSEFOTkVMIg0KX19HUk9VUF9VU0VSTkFNRV9fICAgPSAiQk9OS1NDUE0gVEVSTVVYIEdST1VQIg0KDQpjb25zb2xlID0gQ29uc29sZSgpDQpmaWcgPSBGaWdsZXQoZm9udD0nc2xhbnQnKQ0KDQojIFNpZ25hbCBoYW5kbGVyIHdpdGggc3R5bGUNCmRlZiBzaWduYWxfaGFuZGxlcihzaWcsIGZyYW1lKToNCiAgICBjb25zb2xlLnByaW50KCJcbltib2xkIHJlZF3inJYgRXhpdCB0cmlnZ2VyZWQuIFNodXR0aW5nIGRvd24uLi5bL2JvbGQgcmVkXSIpDQogICAgdGltZS5zbGVlcCgwLjUpDQogICAgY29uc29sZS5wcmludCgiW2JvbGQgeWVsbG93XfCfkYsgR29vZGJ5ZSwgSGFja2VyLlsvYm9sZCB5ZWxsb3ddIikNCiAgICBzeXMuZXhpdCgwKQ0KDQojIEdyYWRpZW50IHRleHQgcmVuZGVyaW5nDQpkZWYgZ3JhZGllbnRfdGV4dCh0ZXh0LCBjb2xvcnMpOg0KICAgIGxpbmVzID0gdGV4dC5zcGxpdGxpbmVzKCkNCiAgICBoZWlnaHQgPSBsZW4obGluZXMpDQogICAgd2lkdGggPSBtYXgobGVuKGxpbmUpIGZvciBsaW5lIGluIGxpbmVzKQ0KICAgIGNvbG9yZnVsX3RleHQgPSBUZXh0KCkNCiAgICBmb3IgeSwgbGluZSBpbiBlbnVtZXJhdGUobGluZXMpOg0KICAgICAgICBmb3IgeCwgY2hhciBpbiBlbnVtZXJhdGUobGluZSk6DQogICAgICAgICAgICBpZiBjaGFyICE9ICcgJzoNCiAgICAgICAgICAgICAgICBjb2xvcl9pbmRleCA9IGludCgoKHggLyAod2lkdGggLSAxIGlmIHdpZHRoID4gMSBlbHNlIDEpKSArICh5IC8gKGhlaWdodCAtIDEgaWYgaGVpZ2h0ID4gMSBlbHNlIDEpKSkgKiAwLjUgKiAobGVuKGNvbG9ycykgLSAxKSkNCiAgICAgICAgICAgICAgICBjb2xvcl9pbmRleCA9IG1pbihtYXgoY29sb3JfaW5kZXgsIDApLCBsZW4oY29sb3JzKSAtIDEpDQogICAgICAgICAgICAgICAgc3R5bGUgPSBTdHlsZShjb2xvcj1jb2xvcnNbY29sb3JfaW5kZXhdKQ0KICAgICAgICAgICAgICAgIGNvbG9yZnVsX3RleHQuYXBwZW5kKGNoYXIsIHN0eWxlPXN0eWxlKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjb2xvcmZ1bF90ZXh0LmFwcGVuZChjaGFyKQ0KICAgICAgICBjb2xvcmZ1bF90ZXh0LmFwcGVuZCgiXG4iKQ0KICAgIHJldHVybiBjb2xvcmZ1bF90ZXh0DQo...